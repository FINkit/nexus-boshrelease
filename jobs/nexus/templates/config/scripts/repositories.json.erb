{
   "name": "repositories",
   "type": "groovy",
   "content": "import org.sonatype.nexus.blobstore.api.BlobStoreManager\r\nimport org.sonatype.nexus.repository.storage.WritePolicy\r\nimport org.sonatype.nexus.repository.maven.VersionPolicy\r\nimport org.sonatype.nexus.repository.maven.LayoutPolicy\r\n\r\n\/\/ Creating central maven proxy \r\ntry {\r\n  repository.createMavenProxy(\"central\",\r\n    \"https:\/\/repo1.maven.org\/maven2\/\",\r\n    \"default\",\r\n    true,\r\n    VersionPolicy.RELEASE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating central: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating clojars maven proxy\r\ntry {\r\n  repository.createMavenProxy(\"clojars\", \"https:\/\/clojars.org\/repo\/\",\r\n        \"default\",\r\n        true,\r\n        VersionPolicy.RELEASE,\r\n        LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating clojars: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating jenkins-releases maven proxy\r\ntry {\r\n  repository.createMavenProxy(\"jenkins-releases\",\r\n    \"https:\/\/repo.jenkins-ci.org\/releases\/\",\r\n    \"default\",\r\n    true,\r\n    VersionPolicy.RELEASE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating jenkins-releases: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating spring-milestones maven proxy\r\ntry {\r\n  repository.createMavenProxy(\"spring-milestones\",\r\n    \"https:\/\/repo.spring.io\/libs-milestone\/\",\r\n    \"default\",\r\n    true,\r\n    VersionPolicy.RELEASE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n    println \"Error thrown creating spring-milestones: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating spring-releases maven proxy\r\ntry {\r\n  repository.createMavenProxy(\"spring-releases\",\r\n    \"https:\/\/repo.spring.io\/release\/\",\r\n    \"default\",\r\n    true,\r\n    VersionPolicy.RELEASE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating spring-releases: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating raw-internal raw hosted\r\ntry {\r\n  repository.createRawHosted(\"raw-internal\",\r\n    \"internal\",\r\n    false,\r\n    WritePolicy.ALLOW_ONCE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating raw-internal: \" + e.getMessage()\r\n}\r\n\r\ntry {\r\n  repository.createMavenHosted(\"releases-deployables\",\r\n    \"releases\",\r\n    false,\r\n    VersionPolicy.RELEASE,\r\n    WritePolicy.ALLOW_ONCE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating releases-deployables: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating releases-libs maven hosted repository\r\ntry {\r\n  repository.createMavenHosted(\"releases-libs\",\r\n    \"releases\",\r\n    false,\r\n    VersionPolicy.RELEASE,\r\n    WritePolicy.ALLOW_ONCE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating releases-libs: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating snapshot-libs maven hosted repository\r\ntry {\r\n  repository.createMavenHosted(\"snapshots-libs\",\r\n  \"snapshots\",\r\n  false,\r\n  VersionPolicy.RELEASE,\r\n  WritePolicy.ALLOW,\r\n  LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating snapshot-libs: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating thirdparty maven hosted repository\r\ntry {\r\n  repository.createMavenHosted(\"thirdparty\",\r\n    \"thirdparty\",\r\n    false,\r\n    VersionPolicy.RELEASE,\r\n    WritePolicy.ALLOW_ONCE,\r\n    LayoutPolicy.PERMISSIVE)\r\n} catch (Exception e) {\r\n  println \"Error thrown creating thirdparty: \" + e.getMessage()\r\n}\r\n\r\n\/\/ Creating public maven group\r\ndef publicGroup = [\"central\", \"clojars\", \"releases-deployables\", \"releases-libs\", \"snapshots-libs\", \"thirdparty\"]\r\ntry {\r\n  repository.createMavenGroup(\"public\",\r\n    publicGroup,\r\n    \"public\")\r\n} catch (Exception e) {\r\n  println \"Error thrown creating public: \" + e.getMessage()\r\n}"
}
